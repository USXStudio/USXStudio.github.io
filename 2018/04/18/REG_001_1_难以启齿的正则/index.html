<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="baidu-site-verification" content="OaWLnxO7T5" />
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="JS正则表达式 既然是正则那就先从字符串操作开始  search(‘xxx’) 字符串操作返回查找字符串的位置  没找到返回 -1  123456789var str = &amp;apos;abcdef&amp;apos;;console.log(str.search(&amp;apos;a&amp;apos;))  // 0console.log(str.search(&amp;apos;b&amp;apos;))  // 1console">
<meta name="keywords" content="前端知识点">
<meta property="og:type" content="article">
<meta property="og:title" content="难以启齿的正则">
<meta property="og:url" content="https://usxstudio.github.io/2018/04/18/REG_001_1_难以启齿的正则/index.html">
<meta property="og:site_name" content="USXStudio">
<meta property="og:description" content="JS正则表达式 既然是正则那就先从字符串操作开始  search(‘xxx’) 字符串操作返回查找字符串的位置  没找到返回 -1  123456789var str = &amp;apos;abcdef&amp;apos;;console.log(str.search(&amp;apos;a&amp;apos;))  // 0console.log(str.search(&amp;apos;b&amp;apos;))  // 1console">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2018-10-14T05:14:26.629Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="难以启齿的正则">
<meta name="twitter:description" content="JS正则表达式 既然是正则那就先从字符串操作开始  search(‘xxx’) 字符串操作返回查找字符串的位置  没找到返回 -1  123456789var str = &amp;apos;abcdef&amp;apos;;console.log(str.search(&amp;apos;a&amp;apos;))  // 0console.log(str.search(&amp;apos;b&amp;apos;))  // 1console">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>难以启齿的正则</title>
    <!-- styles -->
    <link rel="stylesheet" href="/css/style.css">
    <!-- persian styles -->
    
      <link rel="stylesheet" href="/css/rtl.css">
    
    <!-- rss -->
    
    
</head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/search/">Search</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2018/04/20/Vue_220_axios设置token/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2018/04/18/JS005_01_tabs组件/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://usxstudio.github.io/2018/04/18/REG_001_1_难以启齿的正则/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://usxstudio.github.io/2018/04/18/REG_001_1_难以启齿的正则/&text=难以启齿的正则"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://usxstudio.github.io/2018/04/18/REG_001_1_难以启齿的正则/&title=难以启齿的正则"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://usxstudio.github.io/2018/04/18/REG_001_1_难以启齿的正则/&is_video=false&description=难以启齿的正则"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=难以启齿的正则&body=Check out this article: https://usxstudio.github.io/2018/04/18/REG_001_1_难以启齿的正则/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://usxstudio.github.io/2018/04/18/REG_001_1_难以启齿的正则/&title=难以启齿的正则"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://usxstudio.github.io/2018/04/18/REG_001_1_难以启齿的正则/&title=难以启齿的正则"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://usxstudio.github.io/2018/04/18/REG_001_1_难以启齿的正则/&title=难以启齿的正则"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://usxstudio.github.io/2018/04/18/REG_001_1_难以启齿的正则/&title=难以启齿的正则"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://usxstudio.github.io/2018/04/18/REG_001_1_难以启齿的正则/&name=难以启齿的正则&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#JS正则表达式"><span class="toc-number">1.</span> <span class="toc-text">JS正则表达式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#search-‘xxx’"><span class="toc-number">1.1.</span> <span class="toc-text">search(‘xxx’)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#substring"><span class="toc-number">1.2.</span> <span class="toc-text">substring()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#charAt"><span class="toc-number">1.3.</span> <span class="toc-text">charAt()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#split"><span class="toc-number">1.4.</span> <span class="toc-text">split()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#为什么要学正则"><span class="toc-number">1.5.</span> <span class="toc-text">为什么要学正则</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#什么是正则"><span class="toc-number">1.6.</span> <span class="toc-text">什么是正则</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#正则就是干"><span class="toc-number">1.7.</span> <span class="toc-text">正则就是干</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#需求1-看第一个例子查找字母-‘a’"><span class="toc-number">1.7.1.</span> <span class="toc-text">需求1 看第一个例子查找字母 ‘a’</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#需求2-查找忽略大小写的字母-‘b’"><span class="toc-number">1.7.2.</span> <span class="toc-text">需求2 查找忽略大小写的字母  ‘b’</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#忽略大小写之「i」-ignore"><span class="toc-number">1.7.3.</span> <span class="toc-text">忽略大小写之「i」(ignore)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#search-和-match-的区别"><span class="toc-number">1.7.4.</span> <span class="toc-text">search 和 match 的区别</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#「g」global"><span class="toc-number">1.7.5.</span> <span class="toc-text">「g」global</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#量词-个数"><span class="toc-number">1.7.6.</span> <span class="toc-text">量词(个数)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#replace"><span class="toc-number">1.7.7.</span> <span class="toc-text">replace()</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#replace之敏感词过滤"><span class="toc-number">1.7.8.</span> <span class="toc-text">replace之敏感词过滤</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#元字符-方括号"><span class="toc-number">1.8.</span> <span class="toc-text">元字符(方括号)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#元字符之范围"><span class="toc-number">1.9.</span> <span class="toc-text">元字符之范围</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#转义字符"><span class="toc-number">1.10.</span> <span class="toc-text">转义字符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#偷小说之替换html标签"><span class="toc-number">1.11.</span> <span class="toc-text">偷小说之替换html标签</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#量词：个数"><span class="toc-number">1.12.</span> <span class="toc-text">量词：个数</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#需求1-电话号码-除去区号010-022-0537"><span class="toc-number">1.12.1.</span> <span class="toc-text">需求1 电话号码 (除去区号010/022/0537)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#需求2-qq号-qq号没有0开头的-5-11位"><span class="toc-number">1.12.2.</span> <span class="toc-text">需求2 qq号(qq号没有0开头的) 5-11位</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#需求3-固定电话-010-87490623-86"><span class="toc-number">1.12.3.</span> <span class="toc-text">需求3 固定电话 010-87490623-86</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#为什么不推荐用「-」"><span class="toc-number">1.12.4.</span> <span class="toc-text">为什么不推荐用「*」</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#行首-「-」行尾「-」"><span class="toc-number">1.12.5.</span> <span class="toc-text">行首 「^」行尾「$」</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#test"><span class="toc-number">1.13.</span> <span class="toc-text">test()</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#校验邮箱"><span class="toc-number">1.13.1.</span> <span class="toc-text">校验邮箱</span></a></li></ol></li></ol></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index my4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        难以启齿的正则
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">USXStudio</span>
      </span>
      
    <div class="postdate">
        <time datetime="2018-04-18T14:44:33.000Z" itemprop="datePublished">2018-04-18</time>
    </div>


      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/tags/前端知识点/">前端知识点</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <h3 id="JS正则表达式"><a href="#JS正则表达式" class="headerlink" title="JS正则表达式"></a>JS正则表达式</h3><blockquote>
<p>既然是正则那就先从字符串操作开始</p>
</blockquote>
<h4 id="search-‘xxx’"><a href="#search-‘xxx’" class="headerlink" title="search(‘xxx’)"></a>search(‘xxx’)</h4><ul>
<li>字符串操作返回查找字符串的位置 </li>
<li>没找到返回 -1</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var str = &apos;abcdef&apos;;</span><br><span class="line"></span><br><span class="line">console.log(str.search(&apos;a&apos;))  // 0</span><br><span class="line">console.log(str.search(&apos;b&apos;))  // 1</span><br><span class="line">console.log(str.search(&apos;c&apos;))  // 2</span><br><span class="line">console.log(str.search(&apos;d&apos;))  // 3</span><br><span class="line">console.log(str.search(&apos;e&apos;))  // 4</span><br><span class="line"></span><br><span class="line">console.log(str.search(&apos;x&apos;))  //  -1</span><br></pre></td></tr></table></figure>
<h4 id="substring"><a href="#substring" class="headerlink" title="substring()"></a>substring()</h4><blockquote>
<p>口诀「包头不包尾」(左闭右开)</p>
</blockquote>
<p>获取子字符串</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var str = &apos;abcdef&apos;;</span><br><span class="line">console.log(str.substring(2,5))  //cde</span><br><span class="line">console.log(str.substring(1))    // bcdef</span><br><span class="line">console.log(str.substring(6))  // &apos;&apos;空字符</span><br><span class="line">console.log(str.substing(-1))  //abcdef</span><br></pre></td></tr></table></figure>
<h4 id="charAt"><a href="#charAt" class="headerlink" title="charAt()"></a>charAt()</h4><p>获取某个字符</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var str = &apos;abcdef&apos;;</span><br><span class="line">console.log(str.charAt(3))  //d</span><br></pre></td></tr></table></figure>
<h4 id="split"><a href="#split" class="headerlink" title="split()"></a>split()</h4><p>分割字符串，获取数组</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var str = &apos;13-14-aaa-xxx&apos;;</span><br><span class="line">var arr = str.split(&apos;-&apos;);</span><br><span class="line">console.log(arr)  // [13,14,&apos;aaa&apos;,&apos;xxx&apos;]</span><br></pre></td></tr></table></figure>
<h4 id="为什么要学正则"><a href="#为什么要学正则" class="headerlink" title="为什么要学正则"></a>为什么要学正则</h4><blockquote>
<p>需求查找字符串里的数字</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">var str = &apos;12 fff 87 er334 233 -=-=fa80&apos;;</span><br><span class="line">var arr = [];</span><br><span class="line">var tmp = &apos;&apos;;</span><br><span class="line"></span><br><span class="line">for(var i=0;i&lt;str.length;i++)&#123;</span><br><span class="line">    if(str.charAt(i) &gt;= &apos;0&apos; &amp;&amp; str.charAt(i) &lt;= &apos;9&apos;)&#123;</span><br><span class="line">        tmp+=str.charAt(i);</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        if(tmp)&#123;</span><br><span class="line">            arr.push(tmp);</span><br><span class="line">            tmp = &apos;&apos;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">console.log(arr)  //[&apos;12&apos;,&apos;87&apos;,&apos;334&apos;,&apos;80&apos;]</span><br></pre></td></tr></table></figure>
<blockquote>
<p>if 正则</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var str = &apos;12 fff 87 er334 233 -=-=fa80&apos;;</span><br><span class="line">var arr = [];</span><br><span class="line"></span><br><span class="line">arr = str.match(/\d+/g)</span><br><span class="line"></span><br><span class="line">console.log(arr) //[&apos;12&apos;,&apos;87&apos;,&apos;334&apos;,&apos;80&apos;]</span><br></pre></td></tr></table></figure>
<h4 id="什么是正则"><a href="#什么是正则" class="headerlink" title="什么是正则"></a>什么是正则</h4><blockquote>
<p>一串英文、数字  @ - 一串英文、各种文 「计算机」是看不懂的</p>
</blockquote>
<blockquote>
<p>计算机只懂 0/1  、逻辑、程序 —-&gt;规则、模式</p>
</blockquote>
<ul>
<li>强大的字符串匹配工具</li>
<li>一种正常人类很难懂得文字</li>
<li>RegExp对象</li>
</ul>
<h4 id="正则就是干"><a href="#正则就是干" class="headerlink" title="正则就是干"></a>正则就是干</h4><ul>
<li>两种风格迥异的使用方式</li>
</ul>
<h5 id="需求1-看第一个例子查找字母-‘a’"><a href="#需求1-看第一个例子查找字母-‘a’" class="headerlink" title="需求1 看第一个例子查找字母 ‘a’"></a>需求1 看第一个例子查找字母 ‘a’</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// js风格</span><br><span class="line">var reg = new RegExp(&apos;a&apos;);</span><br><span class="line">var str = &apos;abcdef&apos;;</span><br><span class="line"></span><br><span class="line">console.log(str.search(reg));  // 0</span><br></pre></td></tr></table></figure>
<p>另一种风格</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// perl风格</span><br><span class="line">var reg = /a/;</span><br><span class="line">var str = &apos;abcdef&apos;;</span><br><span class="line">console.log(str.search(reg));  // 0</span><br></pre></td></tr></table></figure>
<h5 id="需求2-查找忽略大小写的字母-‘b’"><a href="#需求2-查找忽略大小写的字母-‘b’" class="headerlink" title="需求2 查找忽略大小写的字母  ‘b’"></a>需求2 查找忽略大小写的字母  ‘b’</h5><h5 id="忽略大小写之「i」-ignore"><a href="#忽略大小写之「i」-ignore" class="headerlink" title="忽略大小写之「i」(ignore)"></a>忽略大小写之「i」(ignore)</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// js风格</span><br><span class="line">var reg = new RegExp(&apos;b&apos;,&apos;i&apos;);</span><br><span class="line">var str = &apos;aBcdef&apos;;</span><br><span class="line"></span><br><span class="line">console.log(str.search(reg));  // 0</span><br></pre></td></tr></table></figure>
<p>另一种风格</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// perl风格</span><br><span class="line">var reg = /a/i;</span><br><span class="line">var str = &apos;Abcdef&apos;;</span><br><span class="line">console.log(str.search(reg));  // 0</span><br></pre></td></tr></table></figure>
<h5 id="search-和-match-的区别"><a href="#search-和-match-的区别" class="headerlink" title="search 和 match 的区别"></a>search 和 match 的区别</h5><blockquote>
<p>search是查找匹配规则的字符(只找一次，找到匹配规则的第一个索引返回)</p>
</blockquote>
<blockquote>
<p>match 是返回所有匹配规则的东西都取出来</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var reg = /\d/;</span><br><span class="line">var str = &apos;asdf 34  657 cs33&apos;;</span><br><span class="line">console.log(str.search(reg))  //5</span><br><span class="line">alert(str.match(reg)) // 3</span><br><span class="line">console.log(str.match(reg)) // [&quot;3&quot;, index: 5, input: &quot;asdf 34  657 cs33&quot;, groups: undefined]</span><br></pre></td></tr></table></figure>
<blockquote>
<p>match返回3是因为 计算机很蠢，你只告诉它找数字，没告诉它找几个</p>
</blockquote>
<blockquote>
<p>但是，正则天生懒惰想变勤奋你得加「g」</p>
</blockquote>
<h5 id="「g」global"><a href="#「g」global" class="headerlink" title="「g」global"></a>「g」global</h5><p>那你就给我勤奋一点！</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var reg = /\d/g;</span><br><span class="line">var str = &apos;asdf 34  657 cs33&apos;;</span><br><span class="line">console.log(str.match(reg))  // [&quot;3&quot;, &quot;4&quot;, &quot;6&quot;, &quot;5&quot;, &quot;7&quot;, &quot;3&quot;, &quot;3&quot;]</span><br></pre></td></tr></table></figure>
<blockquote>
<p>怎么出来的都是个位的数字?</p>
</blockquote>
<blockquote>
<p>因为你只告诉计算机取一个数字</p>
</blockquote>
<h5 id="量词-个数"><a href="#量词-个数" class="headerlink" title="量词(个数)"></a>量词(个数)</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var reg = /\d+/g;</span><br><span class="line">var str = &apos;asdf 34  657 cs33&apos;;</span><br><span class="line">console.log(str.match(reg)) // [&quot;34&quot;, &quot;657&quot;, &quot;33&quot;]</span><br></pre></td></tr></table></figure>
<h5 id="replace"><a href="#replace" class="headerlink" title="replace()"></a>replace()</h5><blockquote>
<p>把’a’替换成 0</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">//仅第一个a被替换了  </span><br><span class="line">var str = &apos;abc aaa erv&apos;;</span><br><span class="line">console.log(str.replace(&apos;a&apos;,&apos;0&apos;))  // 0bc aaa erv</span><br></pre></td></tr></table></figure>
<ul>
<li>replace 配合 字符串去替换字符是非常弱爆的</li>
<li>replace只有配合正则才能发挥真正的作用</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var str = &apos;abc aaa erv&apos;;</span><br><span class="line"></span><br><span class="line">var reg = /a/;</span><br><span class="line">console.log(str.replace(reg,&apos;0&apos;)) // 0bc aaa erv</span><br></pre></td></tr></table></figure>
<blockquote>
<p>但是正则有全局匹配啊</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var reg2 = /a/g;</span><br><span class="line">console.log(str.replace(reg2,&apos;0&apos;)) // 0bc 000 erv</span><br></pre></td></tr></table></figure>
<h5 id="replace之敏感词过滤"><a href="#replace之敏感词过滤" class="headerlink" title="replace之敏感词过滤"></a>replace之敏感词过滤</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var reg = /零售|中国|淘宝/g;</span><br><span class="line">var str = &apos;淘宝网是亚太地区较大的网络零售、商圈，由阿里巴巴集团在2003年5月创立。淘宝网 [1]  是中国深受欢迎的网购零售平台，拥有近5亿的注册用户数，每天有超过6000万的固定访客，同时每天的在线商品数已经超过了8亿件，平均每分钟售出4.8万件商品&apos;;</span><br><span class="line"></span><br><span class="line">console.log(str.replace(reg,&apos;**&apos;))</span><br></pre></td></tr></table></figure>
<h4 id="元字符-方括号"><a href="#元字符-方括号" class="headerlink" title="元字符(方括号)"></a>元字符(方括号)</h4><blockquote>
<p>需求匹配 以a或b或c开头+ ‘pc’结尾的字符</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[abc]pc</span><br><span class="line">apc bpc cpc √</span><br><span class="line">dpc epc fpc ×</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var str = &apos;apc xpc ppc bpc spc tpc&apos;;</span><br><span class="line">var reg = /[abc]pc/g;</span><br><span class="line">console.log(str.match(reg)) // [&quot;apc&quot;, &quot;bpc&quot;]</span><br></pre></td></tr></table></figure>
<h4 id="元字符之范围"><a href="#元字符之范围" class="headerlink" title="元字符之范围"></a>元字符之范围</h4><ul>
<li>任意字符 [abc]</li>
<li>范围 [a-z] [0-9]</li>
<li>排除 [^a]</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[a-z]   a到z的字母</span><br><span class="line">[0-9]   相当于 \d 匹配数字</span><br><span class="line">[^a-z]  除了a到z的字母</span><br><span class="line">[^a-z0-9] 除了a到z的字母和数字</span><br></pre></td></tr></table></figure>
<h4 id="转义字符"><a href="#转义字符" class="headerlink" title="转义字符"></a>转义字符</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.  点----任意字符</span><br><span class="line">\d  数字0-9         [0-9]</span><br><span class="line">\w  英文数字下划线   [a-z0-9_]</span><br><span class="line">\s  空白字符</span><br><span class="line">\D  非0-9            [^0-9]</span><br><span class="line">\W  非字母数字下划线  [^a-z0-9_]</span><br><span class="line">\S  非空白字符</span><br></pre></td></tr></table></figure>
<h4 id="偷小说之替换html标签"><a href="#偷小说之替换html标签" class="headerlink" title="偷小说之替换html标签"></a>偷小说之替换html标签</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">var str = `&lt;p id=&quot;p1&quot;&gt;fdsadfdssafas&lt;/p&gt;</span><br><span class="line">&lt;p class=&quot;p2&quot;&gt;aaaaaaaaaaaa&lt;/p&gt;</span><br><span class="line">&lt;p disabled&gt;bbbbbbbbbbb&lt;/p&gt;</span><br><span class="line">&lt;span&gt;ccccccccccc&lt;/span&gt;</span><br><span class="line">&lt;div&gt;dddddddddddd&lt;/div&gt;</span><br><span class="line">&lt;p&gt;eeeeeeeeeeeee&lt;/p&gt;`;</span><br><span class="line"></span><br><span class="line">//你肯定想到的是 </span><br><span class="line">var reg = /&lt;.+&gt;/g;  // 这样会把遇到的第一个 &quot;&lt;&quot;一直匹配到最后一个&quot;&gt;&quot;</span><br><span class="line"></span><br><span class="line">//实际上应该是除了 &quot;&lt;&gt;&quot;以外</span><br><span class="line"></span><br><span class="line">var reg2 = /&lt;[^&lt;&gt;]+&gt;/g;</span><br><span class="line">console.log(str.replace(reg2,&apos;&apos;))</span><br></pre></td></tr></table></figure>
<h4 id="量词：个数"><a href="#量词：个数" class="headerlink" title="量词：个数"></a>量词：个数</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;n&#125; 正好出现n次</span><br><span class="line">&#123;n,m&#125;  最少n次，最多m次</span><br><span class="line">&#123;n,&#125;  最少n次，最多不限</span><br><span class="line"></span><br><span class="line">+  &lt;===&gt; &#123;1,&#125;</span><br><span class="line">?  &lt;===&gt; &#123;0,1&#125;</span><br><span class="line"></span><br><span class="line">*  &lt;===&gt; &#123;0,&#125; 可以可无  不推荐使用容易误导</span><br></pre></td></tr></table></figure>
<h5 id="需求1-电话号码-除去区号010-022-0537"><a href="#需求1-电话号码-除去区号010-022-0537" class="headerlink" title="需求1 电话号码 (除去区号010/022/0537)"></a>需求1 电话号码 (除去区号010/022/0537)</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[1-9]\d&#123;7&#125;</span><br></pre></td></tr></table></figure>
<h5 id="需求2-qq号-qq号没有0开头的-5-11位"><a href="#需求2-qq号-qq号没有0开头的-5-11位" class="headerlink" title="需求2 qq号(qq号没有0开头的) 5-11位"></a>需求2 qq号(qq号没有0开头的) 5-11位</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[1-9]\d&#123;4,10&#125;</span><br></pre></td></tr></table></figure>
<h5 id="需求3-固定电话-010-87490623-86"><a href="#需求3-固定电话-010-87490623-86" class="headerlink" title="需求3 固定电话 010-87490623-86"></a>需求3 固定电话 010-87490623-86</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">010-87490623-86</span><br><span class="line">010是区号可有可无</span><br><span class="line">86是分机号也是可有可无</span><br><span class="line"></span><br><span class="line">前面的区号可有可无 (0\d&#123;2,3&#125;-)?</span><br><span class="line">座机号8位 [1-9]\d&#123;7&#125;</span><br><span class="line">分机号可有可无  (-\d&#123;1,5&#125;)?</span><br><span class="line"></span><br><span class="line">//最后</span><br><span class="line">(0\d&#123;2,3&#125;-)?[1-9]\d&#123;7&#125;(-\d&#123;1,5&#125;)?</span><br></pre></td></tr></table></figure>
<h5 id="为什么不推荐用「-」"><a href="#为什么不推荐用「-」" class="headerlink" title="为什么不推荐用「*」"></a>为什么不推荐用「*」</h5><blockquote>
<p>因为匹配数字的时候0次也算在内</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var str = &apos;12 fff 85 er552 333 -=-=fa22&apos;;</span><br><span class="line">console.log(str.match(/\d*/g))  </span><br><span class="line">// [&quot;12&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;85&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;552&quot;, &quot;&quot;, &quot;333&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;22&quot;, &quot;&quot;]</span><br></pre></td></tr></table></figure>
<h5 id="行首-「-」行尾「-」"><a href="#行首-「-」行尾「-」" class="headerlink" title="行首 「^」行尾「$」"></a>行首 「^」行尾「$」</h5><h4 id="test"><a href="#test" class="headerlink" title="test()"></a>test()</h4><blockquote>
<p>校验是否符合正则返回 true/false</p>
</blockquote>
<h5 id="校验邮箱"><a href="#校验邮箱" class="headerlink" title="校验邮箱"></a>校验邮箱</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var str = &apos;trustfor@sina.cn&apos;</span><br><span class="line">var reg = /^\w+@[a-z0-9]+\.[a-z]+$/i;</span><br><span class="line">if(reg.test(str))&#123;</span><br><span class="line">    //合法</span><br><span class="line">&#125;else&#123;</span><br><span class="line">    //你丫写错了</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

  </div>
</article>



    </div>
    
      <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/search/">Search</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#JS正则表达式"><span class="toc-number">1.</span> <span class="toc-text">JS正则表达式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#search-‘xxx’"><span class="toc-number">1.1.</span> <span class="toc-text">search(‘xxx’)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#substring"><span class="toc-number">1.2.</span> <span class="toc-text">substring()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#charAt"><span class="toc-number">1.3.</span> <span class="toc-text">charAt()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#split"><span class="toc-number">1.4.</span> <span class="toc-text">split()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#为什么要学正则"><span class="toc-number">1.5.</span> <span class="toc-text">为什么要学正则</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#什么是正则"><span class="toc-number">1.6.</span> <span class="toc-text">什么是正则</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#正则就是干"><span class="toc-number">1.7.</span> <span class="toc-text">正则就是干</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#需求1-看第一个例子查找字母-‘a’"><span class="toc-number">1.7.1.</span> <span class="toc-text">需求1 看第一个例子查找字母 ‘a’</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#需求2-查找忽略大小写的字母-‘b’"><span class="toc-number">1.7.2.</span> <span class="toc-text">需求2 查找忽略大小写的字母  ‘b’</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#忽略大小写之「i」-ignore"><span class="toc-number">1.7.3.</span> <span class="toc-text">忽略大小写之「i」(ignore)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#search-和-match-的区别"><span class="toc-number">1.7.4.</span> <span class="toc-text">search 和 match 的区别</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#「g」global"><span class="toc-number">1.7.5.</span> <span class="toc-text">「g」global</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#量词-个数"><span class="toc-number">1.7.6.</span> <span class="toc-text">量词(个数)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#replace"><span class="toc-number">1.7.7.</span> <span class="toc-text">replace()</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#replace之敏感词过滤"><span class="toc-number">1.7.8.</span> <span class="toc-text">replace之敏感词过滤</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#元字符-方括号"><span class="toc-number">1.8.</span> <span class="toc-text">元字符(方括号)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#元字符之范围"><span class="toc-number">1.9.</span> <span class="toc-text">元字符之范围</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#转义字符"><span class="toc-number">1.10.</span> <span class="toc-text">转义字符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#偷小说之替换html标签"><span class="toc-number">1.11.</span> <span class="toc-text">偷小说之替换html标签</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#量词：个数"><span class="toc-number">1.12.</span> <span class="toc-text">量词：个数</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#需求1-电话号码-除去区号010-022-0537"><span class="toc-number">1.12.1.</span> <span class="toc-text">需求1 电话号码 (除去区号010/022/0537)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#需求2-qq号-qq号没有0开头的-5-11位"><span class="toc-number">1.12.2.</span> <span class="toc-text">需求2 qq号(qq号没有0开头的) 5-11位</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#需求3-固定电话-010-87490623-86"><span class="toc-number">1.12.3.</span> <span class="toc-text">需求3 固定电话 010-87490623-86</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#为什么不推荐用「-」"><span class="toc-number">1.12.4.</span> <span class="toc-text">为什么不推荐用「*」</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#行首-「-」行尾「-」"><span class="toc-number">1.12.5.</span> <span class="toc-text">行首 「^」行尾「$」</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#test"><span class="toc-number">1.13.</span> <span class="toc-text">test()</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#校验邮箱"><span class="toc-number">1.13.1.</span> <span class="toc-text">校验邮箱</span></a></li></ol></li></ol></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://usxstudio.github.io/2018/04/18/REG_001_1_难以启齿的正则/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://usxstudio.github.io/2018/04/18/REG_001_1_难以启齿的正则/&text=难以启齿的正则"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://usxstudio.github.io/2018/04/18/REG_001_1_难以启齿的正则/&title=难以启齿的正则"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://usxstudio.github.io/2018/04/18/REG_001_1_难以启齿的正则/&is_video=false&description=难以启齿的正则"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=难以启齿的正则&body=Check out this article: https://usxstudio.github.io/2018/04/18/REG_001_1_难以启齿的正则/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://usxstudio.github.io/2018/04/18/REG_001_1_难以启齿的正则/&title=难以启齿的正则"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://usxstudio.github.io/2018/04/18/REG_001_1_难以启齿的正则/&title=难以启齿的正则"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://usxstudio.github.io/2018/04/18/REG_001_1_难以启齿的正则/&title=难以启齿的正则"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://usxstudio.github.io/2018/04/18/REG_001_1_难以启齿的正则/&title=难以启齿的正则"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://usxstudio.github.io/2018/04/18/REG_001_1_难以启齿的正则/&name=难以启齿的正则&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

    
    <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2018 Chaos Wang
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/search/">Search</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

</body>
</html>
<!-- styles -->
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">

<!-- jquery -->
<script src="/lib/jquery/jquery.min.js"></script>
<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>
<script src="/js/main.js"></script>
<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

    <script type="text/javascript">
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?4a245175567f8e41cfa7ed9f95e12c96";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>

<!-- Disqus Comments -->


